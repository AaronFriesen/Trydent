apply plugin: 'java'
apply plugin: 'checkstyle'

repositories {
    mavenCentral()
}

checkstyle {
    toolVersion = '6.1'
}

dependencies {
    compile group: 'commons-collections', name: 'commons-collections', version: '3.2'
    testCompile group: 'junit', name: 'junit', version: '4.+'
}

task whitespace (type: Exec) {
    description 'Removes trailing whitespace from current working tree.'
    commandLine "./config/checkstyle/space-clean"
}

task sample (dependsOn: build, type: Exec) {
    description 'Runs a sample, e.x. \"gradle sample -P example=CLASSNAME\". Valid examples found in src/main/java/edu/gatech/cs2340/trydent/sample'
    doFirst {
        commandLine "java", "-cp", "build/libs/Trydent.jar", "edu.gatech.cs2340.trydent.sample.$example"
    }
}
